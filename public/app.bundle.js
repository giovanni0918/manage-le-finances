!function(e){function t(t){for(var r,l,i=t[0],c=t[1],s=t[2],m=0,p=[];m<i.length;m++)l=i[m],a[l]&&p.push(a[l][0]),a[l]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},a={0:0},o=[];function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=c;o.push([124,2]),n()}({124:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(63),o=n(127),l=n(126),i=n(128),c=n(32);n(114),n(116);c.initializeApp({apiKey:"AIzaSyD8zpRHrTURhNjPrBgj_VoqKEI_v5-E3cE",authDomain:"manage-le-finances.firebaseapp.com",databaseURL:"https://manage-le-finances.firebaseio.com",projectId:"manage-le-finances",storageBucket:"manage-le-finances.appspot.com",messagingSenderId:"199442396161"});var s,u,m=c.database().ref("/v0"),p=function(e){return void 0===e&&(e=""),m.child("expenses/"+e)},d=function(e,t){return void 0===t&&(t=""),m.child("user-expenses/"+e+"/"+t)},f=c.auth,h=n(125),g=function(e){var t=e.handleEmailChange,n=e.handlePasswordChange,a=e.handleLogin,o=e.loading;return r.createElement("form",{className:"login-form flex-vertically",onSubmit:function(e){return a(e)}},r.createElement("label",{className:"form-label flex-vertically"},"Email",r.createElement("input",{className:"form-control",type:"email",id:"email",name:"email",placeholder:"Email",autoComplete:"email",onChange:function(e){return t(e)},required:!0}),r.createElement("br",null)),r.createElement("label",{className:"form-label flex-vertically"},"Password",r.createElement("input",{className:"form-control",type:"password",id:"password",name:"password",placeholder:"Password",autoComplete:"current-password",onChange:function(e){return n(e)},required:!0}),r.createElement("br",null)),o?r.createElement("button",{className:"btn login-btn pointer",disabled:!0},"Login"):r.createElement("button",{className:"btn login-btn pointer"},"Login"),r.createElement("hr",null),r.createElement(h.a,{className:"actionLink",to:"/register"},"Not an User? Register to continue."))},y=function(e){var t=e.handleEmailChange,n=e.handlePasswordChange,a=e.handleRegister,o=e.loading;return r.createElement("form",{className:"register-form flex-vertically",onSubmit:function(e){return a(e)}},r.createElement("label",{className:"form-label flex-vertically"},"Email",r.createElement("input",{className:"form-control",type:"email",id:"email",name:"email",placeholder:"Email",autoComplete:"email",onChange:function(e){return t(e)},required:!0}),r.createElement("br",null)),r.createElement("label",{className:"form-label flex-vertically"},"Password",r.createElement("input",{className:"form-control",type:"password",id:"password",name:"password",placeholder:"Password",autoComplete:"current-password",onChange:function(e){return n(e)},required:!0}),r.createElement("br",null)),o?r.createElement("button",{className:"btn register-btn not-allowed",disabled:!0},"Register"):r.createElement("button",{className:"btn register-btn pointer"},"Register"),r.createElement("hr",null),r.createElement(h.a,{className:"actionLink",to:"/login"},"Already an User? Login to continue."))},b=(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=function(e){function t(t){var n=e.call(this,t)||this;return n.state={data:t.data,sortby:null,descending:!1},n}return b(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({data:e.data})},t.prototype.render=function(){var e=this.props,t=e.headers,n=e.data,a=t.map(function(e,t,n){return r.createElement("th",{key:"th--"+t},e)}),o=n.map(function(e,t,n){return r.createElement("tr",{key:e.key},e.values.map(function(e,t){return r.createElement("td",{key:t},e)}))});return r.createElement("table",{className:"table"},r.createElement("thead",{className:"table__header"},r.createElement("tr",null,a)),r.createElement("tbody",{className:"table__body"},o))},t}(r.Component),v=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(e){function t(t){var n=e.call(this,t)||this;return n._removeRow=function(e,t){if(window.confirm("Delete item from list? This cannot be undone.")){var r=n.state.rows;p(e).remove().catch(function(e){return console.warn("Error removing entry",e)});var a=n.props.uid;d(a,e).remove().then(function(){n.setState({rows:r.slice(0,t).concat(r.slice(t+1))})}).catch(function(e){return console.warn("Error removing entry",e)})}},n.state={headers:["Amount","DueDate","Name","Recurrence","SharedWith","Delete"],rows:[]},n}return v(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.uid;d(t,"").on("value",function(t){var n,a=Object.keys(t.val()),o=a.map(function(e){return t.val()[e]});n=a.map(function(t,n,a){return{key:t,values:Object.keys(o[n]).map(function(e){return o[n][e]}).concat([r.createElement("button",{className:"btn-delete",onClick:function(){return e._removeRow(t,n)}},"x")]),editable:!0,removable:!0}}),e.setState({rows:n})})},t.prototype.render=function(){return r.createElement("div",{className:"list-wrapper"},r.createElement("h3",{className:"flex-around"},"Expenses",r.createElement(h.a,{to:"/expense-form"},"Add new"),r.createElement(h.a,{to:"/logout"},"Logout")),r.createElement(E,{headers:this.state.headers,data:this.state.rows}))},t}(r.Component);!function(e){e.Once="once",e.Daily="daily",e.Weekly="weekly",e.Biweekly="biweekly",e.Monthly="monthly",e.Quarterly="quarterly",e.Semiannually="semiannually",e.Annually="annually"}(u||(u={}));var w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(e){function t(t){var n=e.call(this,t)||this;return n.toList=!1,n._onSubmit=function(e){e.preventDefault();var t=n.state,r=t.amount,a=t.due_date,o=t.expense_title,l=t.recurrence,i=t.shared_with;n.setState({loading:!0});var c=p("").push();if(c.set({amount:r,due_date:a,expense_title:o,recurrence:l,shared_with:i}).then(function(){return n.setState(n.baseState)}).catch(function(e){return console.warn({err:e})}),void 0!==c){var s=n.props.uid;d(s,c.key||"").set({amount:r,due_date:a,expense_title:o,recurrence:l,shared_with:i})}n.toList=!0},n.state={amount:0,due_date:"",expense_title:"",recurrence:u.Once,shared_with:"myself",loading:!1},n.baseState=n.state,n}return w(t,e),t.prototype.render=function(){var e=this;return!0===this.toList?r.createElement(i.a,{to:"/expense-list"}):r.createElement(r.Fragment,null,r.createElement("h3",{className:"flex-around"},"Expenses",r.createElement(h.a,{to:"/expense-list"},"View list"),r.createElement(h.a,{to:"/logout"},"Logout")),r.createElement("form",{className:"login-form flex-container",autoComplete:"off",onSubmit:this._onSubmit},r.createElement("label",{className:"form-label flex-vertically"},"Title",r.createElement("input",{className:"form-control",type:"text",id:"expense_title",name:"expense_title",placeholder:"Expense Title",onChange:function(t){return e.setState({expense_title:t.target.value})},required:!0,value:this.state.expense_title})),r.createElement("label",{className:"form-label flex-vertically"},"Amount",r.createElement("input",{className:"form-control",type:"number",step:"0.01",id:"amount",name:"amount",placeholder:"Amount",onChange:function(t){var n=Number(t.target.value);e.setState({amount:n})},required:!0,value:this.state.amount})),r.createElement("label",{className:"form-label flex-vertically"},"Due Date",r.createElement("input",{className:"form-control",type:"date",id:"due_date",name:"due_date",placeholder:"Due Date",onChange:function(t){return e.setState({due_date:t.target.value})},required:!0,value:this.state.due_date})),r.createElement("label",{className:"form-label flex-vertically"},"Shared with?",r.createElement("input",{className:"form-control",type:"text",id:"shared_with",name:"shared_with",placeholder:"Shared with...",onChange:function(t){return e.setState({shared_with:t.target.value})},required:!0,value:this.state.shared_with})),r.createElement("label",{className:"form-label flex-vertically"},"Recurrence",r.createElement("select",{className:"form-control",name:"recurrence",id:"recurrence",onChange:function(t){return e.setState({recurrence:t.target.value})},value:this.state.recurrence},r.createElement("option",{value:"once",selected:!0},"once"),r.createElement("option",{value:"daily"},"daily"),r.createElement("option",{value:"weekly"},"weekly"),r.createElement("option",{value:"monthly"},"monthly"),r.createElement("option",{value:"quarterly"},"quarterly"),r.createElement("option",{value:"semiannually"},"semiannually"),r.createElement("option",{value:"annually"},"annually"))),this.state.loading?r.createElement("button",{className:"btn login-btn",disabled:!0},"Submit"):r.createElement("button",{className:"btn login-btn"},"Submit")))},t}(r.Component),N=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},O=function(e){function t(t){var n=e.call(this,t)||this;return n.storedState=JSON.parse(window.localStorage.getItem("authState")),n.loading=!1,n._login=function(e){e.preventDefault(),n.loading=!0,f().signInWithEmailAndPassword(n.state.email,n.state.password).then(function(){n.setState({signedIn:!0,uid:f().currentUser.uid})}).catch(function(e){alert(e.message),console.warn({error:e})}).then(function(){n.loading=!1})},n._register=function(e){e.preventDefault(),f().createUserWithEmailAndPassword(n.state.email,n.state.password).then(function(){n.setState({registered:!0,uid:f().currentUser.uid})}).catch(function(e){alert(e.message),console.warn({error:e})}).then(function(){return console.log(n.state)})},n._onEmailChange=function(e){n.setState({email:e.target.value})},n._onPasswordChange=function(e){n.setState({password:e.target.value})},n._logout=function(){f().signOut(),n.setState({signedIn:!1,uid:null})},n.state=n.storedState||{email:"",password:"",signedIn:!1},n}return N(t,e),t.prototype.componentWillUpdate=function(e,t){localStorage.setItem("authState",JSON.stringify(t))},t.prototype.render=function(){var e=this,t={handleEmailChange:this._onEmailChange,handlePasswordChange:this._onPasswordChange,handleLogin:this._login},n={handleEmailChange:this._onEmailChange,handlePasswordChange:this._onPasswordChange,handleRegister:this._register};return r.createElement(o.a,null,r.createElement("div",{className:"full-width"},r.createElement(l.a,{exact:!0,path:"/",render:function(){return e.state.signedIn?r.createElement(i.a,{to:"/expense-list"}):r.createElement(i.a,{to:"/login"})}}),r.createElement(l.a,{path:"/login",render:function(){return e.state.signedIn?r.createElement(i.a,{to:"/expense-list"}):r.createElement(g,S({},t,{loading:e.loading}))}}),r.createElement(l.a,{path:"/register",render:function(){return r.createElement(y,S({},n))}}),r.createElement(l.a,{path:"/expense-list",render:function(){return r.createElement(_,{uid:e.state.uid})}}),r.createElement(l.a,{path:"/expense-form",render:function(){return r.createElement(x,{uid:e.state.uid})}}),r.createElement(l.a,{path:"/logout",render:function(){return e._logout(),r.createElement(i.a,{to:"/login"})}})))},t}(r.Component);Object(a.render)(r.createElement(O,null),document.getElementById("app"))}});
//# sourceMappingURL=app.bundle.js.map